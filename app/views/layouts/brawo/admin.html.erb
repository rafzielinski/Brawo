<!DOCTYPE html>
<html>
  <head>
    <title>Brawo CMS Admin</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
    
    <style>
      * { margin: 0; padding: 0; box-sizing: border-box; }
      body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; background: #f5f5f5; }
      .admin-container { display: flex; min-height: 100vh; }
      .sidebar { width: 250px; background: #2c3e50; color: white; padding: 20px; }
      .sidebar h1 { font-size: 24px; margin-bottom: 30px; }
      .sidebar nav a { display: block; color: #ecf0f1; text-decoration: none; padding: 10px; margin-bottom: 5px; border-radius: 4px; }
      .sidebar nav a:hover { background: #34495e; }
      .sidebar nav a.active { background: #3498db; }
      .main-content { flex: 1; padding: 30px; }
      .header { background: white; padding: 20px; margin-bottom: 30px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
      .header h2 { font-size: 28px; color: #2c3e50; }
      .content-box { background: white; padding: 30px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
      .alert { padding: 15px; margin-bottom: 20px; border-radius: 4px; }
      .alert-success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
      .alert-error { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
      .btn { display: inline-block; padding: 10px 20px; background: #3498db; color: white; text-decoration: none; border-radius: 4px; border: none; cursor: pointer; }
      .btn:hover { background: #2980b9; }
      .btn-danger { background: #e74c3c; }
      .btn-danger:hover { background: #c0392b; }
      .btn-secondary { background: #95a5a6; }
      .btn-secondary:hover { background: #7f8c8d; }
      table { width: 100%; border-collapse: collapse; }
      table th, table td { padding: 12px; text-align: left; border-bottom: 1px solid #ecf0f1; }
      table th { background: #f8f9fa; font-weight: 600; }
      .form-group { margin-bottom: 20px; }
      .form-group label { display: block; margin-bottom: 5px; font-weight: 600; color: #2c3e50; }
      .form-group input[type="text"], .form-group input[type="email"], .form-group input[type="number"], 
      .form-group input[type="date"], .form-group input[type="datetime-local"], .form-group textarea, .form-group select { 
        width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px; 
      }
      .form-group textarea { min-height: 150px; }
      .form-group input[type="checkbox"] { margin-right: 5px; }
      .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
      .card { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
      .card h3 { margin-bottom: 10px; color: #2c3e50; }
      .stats { display: flex; justify-content: space-between; margin-top: 20px; }
      .stat-box { text-align: center; padding: 20px; background: #ecf0f1; border-radius: 8px; flex: 1; margin: 0 10px; }
      .stat-box h4 { font-size: 32px; color: #3498db; margin-bottom: 5px; }
      .stat-box p { color: #7f8c8d; }
    </style>
  </head>

  <body>
    <div class="admin-container">
      <aside class="sidebar">
        <h1>ðŸ“¦ Brawo CMS</h1>
        <nav>
          
          
          <% if @content_types || (defined?(Brawo::Registry) && Brawo::Registry.all.any?) %>
            <hr style="margin: 20px 0; border: none; border-top: 1px solid #34495e;">
            <p style="color: #95a5a6; font-size: 12px; text-transform: uppercase; margin-bottom: 10px;">Content Types</p>
            <% (defined?(@content_types) ? @content_types : Brawo::Registry.all).each do |content_type_class| %>
              <% config = content_type_class.config %>
              <%= link_to "#{config.icon} #{config.name}", brawo.admin_content_entries_path(config.slug) %>
            <% end %>
          <% end %>
        </nav>
      </aside>
      
      <main class="main-content">
        <% if notice %>
          <div class="alert alert-success"><%= notice %></div>
        <% end %>
        <% if alert %>
          <div class="alert alert-error"><%= alert %></div>
        <% end %>
        
        <%= yield %>
      </main>
    </div>
  </body>
</html>